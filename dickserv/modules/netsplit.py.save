#!/usr/bin/env python
# DickServ IRC Bot
# Developed by acidvegas in Python 3
# https://github.com/acidvegas/dickserv
# netsplit.py

import html
import re

import httplib

def search(query):
    source   = httplib.get_source('http://irc.netsplit.de/channels/?chat=' + query.replace(' ','+'))
    source   = html.unescape(source).replace('\u200b', '')
    channels = re.findall('<a title="(.*?) Webchat"', source, re.IGNORECASE|re.MULTILINE)
    return channels